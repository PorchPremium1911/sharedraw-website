<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>เวลาประเทศไทย</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Prompt', sans-serif;
            background: linear-gradient(135deg, #3494e6, #ec6ead);
            height: 100vh;
            margin: 0;
            overflow-x: hidden;
        }
        .clock {
            text-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .popup {
            animation: fadeIn 0.5s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .notification-dot {
            display: flex;
            align-items: center;
        }
        .notification-dot.passed::before {
            content: '';
            display: inline-block;
            width: 12px;
            height: 12px;
            margin-right: 8px;
            background-color: #FF5252;
            border-radius: 50%;
            animation: pulse 1.5s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(255, 82, 82, 0.7); }
            70% { transform: scale(1); box-shadow: 0 0 0 10px rgba(255, 82, 82, 0); }
            100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(255, 82, 82, 0); }
        }
        .notifications-container {
            position: fixed;
            top: 10px;
            right: 10px;
            width: 320px;
            max-height: 90vh;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 1000;
        }
        .schedule-item {
            display: flex;
            align-items: center;
            padding: 6px 0;
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center p-4">
    <div class="bg-white bg-opacity-90 rounded-2xl shadow-2xl p-8 md:p-12 w-11/12 max-w-2xl">
        <h1 class="text-3xl md:text-4xl font-bold text-center text-blue-800 mb-6">เวลาประเทศไทย</h1>
        
        <div class="flex flex-col items-center justify-center">
            <div class="clock text-5xl md:text-7xl font-bold text-center text-blue-900 mb-4" id="current-time">00:00:00</div>
            <div class="text-xl md:text-2xl text-gray-600 text-center" id="current-date">วันที่ 1 มกราคม 2566</div>
        </div>
        
        <div class="mt-8 bg-blue-50 rounded-xl p-4">
            <h2 class="text-xl font-semibold text-blue-800 mb-2">กำหนดการวันนี้</h2>
            <ul class="space-y-1 text-gray-700" id="schedule-list">
                <li class="schedule-item" data-time="8:30">
                    <div class="w-20 font-medium">8:30 น.</div>
                    <div class="notification-dot" id="dot-8-30">เริ่มสอบ</div>
                </li>
                <li class="schedule-item" data-time="9:40">
                    <div class="w-20 font-medium">9:40 น.</div>
                    <div class="notification-dot" id="dot-9-40">พักเบรก</div>
                </li>
                <li class="schedule-item" data-time="12:00">
                    <div class="w-20 font-medium">12:00 น.</div>
                    <div class="notification-dot" id="dot-12-00">พักกลางวัน</div>
                </li>
                <li class="schedule-item" data-time="12:50">
                    <div class="w-20 font-medium">12:50 น.</div>
                    <div class="notification-dot" id="dot-12-50">เริ่มสอบอีกครั้ง</div>
                </li>
                <li class="schedule-item" data-time="15:50">
                    <div class="w-20 font-medium">15:50 น.</div>
                    <div class="notification-dot" id="dot-15-50">กลับบ้าน</div>
                </li>
            </ul>
        </div>
    </div>

    <!-- Notifications container -->
    <div id="notifications-container" class="notifications-container"></div>

    <script>
        // กำหนดเวลาแจ้งเตือน
        const notifications = [
            { time: '8:30', title: 'เริ่มสอบ!', message: 'ถึงเวลาเริ่มสอบแล้ว ขอให้โชคดี!', id: 'dot-8-30' },
            { time: '9:40', title: 'พักเบรก', message: 'ถึงเวลาพักเบรกแล้ว พักผ่อนสักครู่', id: 'dot-9-40' },
            { time: '12:00', title: 'พักกลางวัน', message: 'ถึงเวลาพักกลางวันแล้ว ทานอาหารให้อร่อยนะ', id: 'dot-12-00' },
            { time: '12:50', title: 'เริ่มสอบอีกครั้ง', message: 'ถึงเวลาเริ่มสอบภาคบ่ายแล้ว ขอให้โชคดี!', id: 'dot-12-50' },
            { time: '15:50', title: 'กลับบ้าน', message: 'หมดเวลาทำงานแล้ว เดินทางกลับบ้านปลอดภัย', id: 'dot-15-50' }
        ];
        
        // ตัวแปรเก็บสถานะการแจ้งเตือนที่แสดงแล้ว
        const notificationShown = {
            '8:30': false,
            '9:40': false,
            '12:00': false,
            '12:50': false,
            '15:50': false
        };
        
        // ตัวแปรเก็บวันที่ปัจจุบัน
        let currentDate = new Date().toDateString();
        
        // ฟังก์ชันอัพเดทเวลา
        function updateTime() {
            const now = new Date();
            
            // ตรวจสอบว่าเป็นวันใหม่หรือไม่ (เที่ยงคืน)
            if (now.toDateString() !== currentDate) {
                resetNotifications();
                currentDate = now.toDateString();
            }
            
            // ตั้งค่าให้เป็นเวลาประเทศไทย
            const options = { 
                timeZone: 'Asia/Bangkok',
                hour: '2-digit', 
                minute: '2-digit',
                second: '2-digit',
                hour12: false
            };
            
            const timeString = now.toLocaleTimeString('th-TH', options);
            document.getElementById('current-time').textContent = timeString;
            
            const dateOptions = { 
                timeZone: 'Asia/Bangkok',
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric'
            };
            
            const dateString = now.toLocaleDateString('th-TH', dateOptions);
            document.getElementById('current-date').textContent = dateString;
            
            // ตรวจสอบเวลาสำหรับการแจ้งเตือนและอัพเดทสถานะจุดสีแดง
            checkNotificationTime(now);
            updateDotStatus(now);
        }
        
        // อัพเดทเวลาทุกวินาที
        setInterval(updateTime, 1000);
        updateTime(); // เรียกใช้ทันทีเมื่อโหลดหน้า
        
        // ฟังก์ชันรีเซ็ตการแจ้งเตือนทั้งหมด (เมื่อเที่ยงคืน)
        function resetNotifications() {
            // รีเซ็ตสถานะการแจ้งเตือน
            Object.keys(notificationShown).forEach(key => {
                notificationShown[key] = false;
            });
            
            // รีเซ็ตจุดสีแดง
            notifications.forEach(notification => {
                const dot = document.getElementById(notification.id);
                if (dot) {
                    dot.classList.remove('passed');
                }
            });
            
            // ลบป๊อปอัพทั้งหมด
            document.getElementById('notifications-container').innerHTML = '';
        }
        
        // ฟังก์ชันอัพเดทสถานะจุดสีแดง
        function updateDotStatus(now) {
            const currentHours = now.getHours();
            const currentMinutes = now.getMinutes();
            
            notifications.forEach(notification => {
                const [notifHours, notifMinutes] = notification.time.split(':').map(Number);
                const dot = document.getElementById(notification.id);
                
                if (dot) {
                    // เช็คว่าเวลาปัจจุบันผ่านเวลาแจ้งเตือนหรือไม่
                    if ((currentHours > notifHours) || 
                        (currentHours === notifHours && currentMinutes >= notifMinutes)) {
                        dot.classList.add('passed');
                    } else {
                        dot.classList.remove('passed');
                    }
                }
            });
        }
        
        // ฟังก์ชันตรวจสอบเวลาสำหรับการแจ้งเตือน
        function checkNotificationTime(now) {
            const hours = now.getHours();
            const minutes = now.getMinutes();
            
            // ตรวจสอบเวลาปัจจุบันกับเวลาแจ้งเตือนที่กำหนด
            notifications.forEach(notification => {
                const [notifHours, notifMinutes] = notification.time.split(':').map(Number);
                
                if (hours === notifHours && minutes === notifMinutes && !notificationShown[notification.time]) {
                    // แสดงการแจ้งเตือนปัจจุบัน
                    showNotification(notification.title, notification.message);
                    
                    // ตั้งค่าว่าได้แสดงแล้ว
                    notificationShown[notification.time] = true;
                }
            });
        }
        
        // ฟังก์ชันแสดงป๊อปอัพแจ้งเตือน
        function showNotification(title, message) {
            const container = document.getElementById('notifications-container');
            
            // ลบการแจ้งเตือนเก่าทั้งหมด
            container.innerHTML = '';
            
            const notification = document.createElement('div');
            notification.className = 'bg-white rounded-lg shadow-2xl p-4 popup';
            
            notification.innerHTML = `
                <div class="flex items-start">
                    <div class="bg-blue-100 rounded-full p-3 mr-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                        </svg>
                    </div>
                    <div class="flex-1">
                        <h3 class="font-bold text-lg text-gray-900">${title}</h3>
                        <p class="text-gray-700">${message}</p>
                    </div>
                    <button onclick="this.parentElement.parentElement.remove()" class="text-gray-400 hover:text-gray-600">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
                        </svg>
                    </button>
                </div>
            `;
            
            container.appendChild(notification);
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'965a7686523a2603',t:'MTc1MzYwMTc1Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

