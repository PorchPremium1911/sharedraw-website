<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShareDraw - Social Drawing Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .canvas-container {
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            background: white;
        }
        .tool-btn {
            transition: all 0.2s;
        }
        .tool-btn:hover {
            transform: scale(1.05);
        }
        .active-tool {
            background: #3b82f6;
            color: white;
        }
        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            animation: slideIn 0.3s ease-out;
        }
        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-100 to-blue-100 min-h-screen">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg"></div>
                    <h1 class="text-2xl font-bold text-gray-800">ShareDraw</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <!-- Language Selector -->
                    <div class="relative">
                        <select id="languageSelector" class="bg-white border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="en">üá∫üá∏ English</option>
                            <option value="th">üáπüá≠ ‡πÑ‡∏ó‡∏¢</option>
                        </select>
                    </div>
                    <button id="loginBtn" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors">Login</button>
                    <button id="registerBtn" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors">Register</button>
                    <button id="devLoginBtn" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors">Dev Login</button>
                    <button id="logoutBtn" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors hidden">Logout</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 py-8">
        <!-- Welcome Section -->
        <div id="welcomeSection" class="mb-8">
            <div class="text-center mb-8">
                <h2 class="text-4xl font-bold text-gray-800 mb-4">Welcome to ShareDraw</h2>
                <p class="text-xl text-gray-600 mb-8">Share your drawings with the world!</p>
            </div>
            
            <!-- Search Section -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex flex-col md:flex-row gap-4 items-center">
                    <input type="text" id="searchInput" placeholder="Search drawings by username..." class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <button id="searchBtn" class="px-6 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors">üîç Search</button>
                </div>
            </div>
            
            <!-- Public Feed -->
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h3 class="text-2xl font-bold text-gray-800 mb-4">üé® Community Feed</h3>
                <div id="publicFeed" class="space-y-4">
                    <!-- Feed items will be loaded here -->
                </div>
                <div id="noDrawings" class="text-center text-gray-500 py-8 hidden">
                    No drawings found. Be the first to share your artwork!
                </div>
            </div>
            
            <!-- Login Prompt for Non-Users -->
            <div id="loginPrompt" class="bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg shadow-lg p-6 mt-6 text-center">
                <h3 class="text-xl font-semibold mb-4">Join ShareDraw Community!</h3>
                <p class="mb-4">Login or register to create and share your own drawings</p>
                <div class="space-x-4">
                    <button onclick="showLogin()" class="bg-white text-blue-600 hover:bg-gray-100 py-2 px-6 rounded-lg transition-colors font-semibold">Login</button>
                    <button onclick="showRegister()" class="bg-transparent border-2 border-white hover:bg-white hover:text-blue-600 py-2 px-6 rounded-lg transition-colors font-semibold">Register</button>
                </div>
            </div>
        </div>

        <!-- Canvas Section (Hidden initially) -->
        <div id="canvasSection" class="hidden">
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex flex-wrap items-center justify-between mb-4">
                    <h3 class="text-2xl font-bold text-gray-800">Drawing Canvas</h3>
                    <div id="userInfo" class="text-sm text-gray-600"></div>
                </div>
                
                <!-- Tools -->
                <div class="flex flex-wrap gap-2 mb-4">
                    <button id="penTool" class="tool-btn active-tool px-4 py-2 rounded-lg border">‚úèÔ∏è Pen</button>
                    <button id="brushTool" class="tool-btn px-4 py-2 rounded-lg border">üñåÔ∏è Brush</button>
                    <button id="eraserTool" class="tool-btn px-4 py-2 rounded-lg border">üßπ Eraser</button>
                    <button id="lineTool" class="tool-btn px-4 py-2 rounded-lg border">üìè Line</button>
                    <button id="rectTool" class="tool-btn px-4 py-2 rounded-lg border">‚¨ú Rectangle</button>
                    <button id="circleTool" class="tool-btn px-4 py-2 rounded-lg border">‚≠ï Circle</button>
                    <input type="color" id="colorPicker" value="#000000" class="w-12 h-10 rounded border">
                    <input type="range" id="brushSize" min="1" max="50" value="5" class="w-24">
                    <button id="clearCanvas" class="px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600">Clear</button>
                    <button id="shareDrawing" class="px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600">üì§ Share</button>
                    <button id="animateBtn" class="px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600">üé¨ Animate</button>
                </div>

                <!-- Canvas -->
                <div class="canvas-container">
                    <canvas id="drawingCanvas" width="800" height="600" class="block mx-auto cursor-crosshair"></canvas>
                </div>

                <!-- Animation Controls -->
                <div id="animationControls" class="mt-4 hidden">
                    <div class="flex items-center space-x-4">
                        <button id="playAnimation" class="px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600">‚ñ∂Ô∏è Play</button>
                        <button id="pauseAnimation" class="px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600">‚è∏Ô∏è Pause</button>
                        <button id="stopAnimation" class="px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600">‚èπÔ∏è Stop</button>
                        <span class="text-sm text-gray-600">Frame: <span id="frameCounter">1</span></span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Developer Panel (Hidden initially) -->
        <div id="devPanel" class="hidden">
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h3 class="text-2xl font-bold text-gray-800 mb-4">Developer Panel</h3>
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <h4 class="text-lg font-semibold mb-3">Registered Users</h4>
                        <div id="usersList" class="space-y-2 max-h-64 overflow-y-auto"></div>
                    </div>
                    <div>
                        <h4 class="text-lg font-semibold mb-3">Login Activity</h4>
                        <div id="loginActivity" class="space-y-2 max-h-64 overflow-y-auto"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-lg p-8 max-w-md w-full mx-4 fade-in">
            <h3 class="text-2xl font-bold mb-6 text-center">Login</h3>
            <form id="loginForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Username</label>
                    <input type="text" id="loginUsername" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                    <input type="password" id="loginPassword" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                </div>
                <div class="flex space-x-4">
                    <button type="submit" class="flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg transition-colors">Login</button>
                    <button type="button" onclick="closeModal('loginModal')" class="flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition-colors">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="registerModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-lg p-8 max-w-md w-full mx-4 fade-in">
            <h3 class="text-2xl font-bold mb-6 text-center">Register</h3>
            <form id="registerForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                    <input type="text" id="registerName" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Username</label>
                    <input type="text" id="registerUsername" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                    <input type="email" id="registerEmail" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                    <input type="password" id="registerPassword" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500" required>
                </div>
                <div class="flex space-x-4">
                    <button type="submit" class="flex-1 bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-lg transition-colors">Register</button>
                    <button type="button" onclick="closeModal('registerModal')" class="flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition-colors">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Developer Login Modal -->
    <div id="devLoginModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-lg p-8 max-w-md w-full mx-4 fade-in">
            <h3 class="text-2xl font-bold mb-6 text-center text-red-600">Developer Login</h3>
            <form id="devLoginForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Developer Name</label>
                    <input type="text" id="devName" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Developer Code</label>
                    <input type="password" id="devCode" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500" required>
                </div>
                <div class="flex space-x-4">
                    <button type="submit" class="flex-1 bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded-lg transition-colors">Access Panel</button>
                    <button type="button" onclick="closeModal('devLoginModal')" class="flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition-colors">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Share Drawing Modal -->
    <div id="shareModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-lg p-8 max-w-md w-full mx-4 fade-in">
            <h3 class="text-2xl font-bold mb-6 text-center text-green-600">Share Your Drawing</h3>
            <form id="shareForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Title</label>
                    <input type="text" id="drawingTitle" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500" required placeholder="Give your drawing a title...">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Description (Optional)</label>
                    <textarea id="drawingDescription" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 h-20" placeholder="Describe your artwork..."></textarea>
                </div>
                <div class="flex space-x-4">
                    <button type="submit" class="flex-1 bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-lg transition-colors">üì§ Share</button>
                    <button type="button" onclick="closeModal('shareModal')" class="flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition-colors">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Global variables
        let currentUser = null;
        let isDeveloper = false;
        let canvas, ctx;
        let isDrawing = false;
        let currentTool = 'pen';
        let currentColor = '#000000';
        let currentSize = 5;
        let animationFrames = [];
        let currentFrame = 0;
        let isAnimating = false;
        let animationInterval;
        let currentLanguage = 'en';

        // Language translations
        const translations = {
            en: {
                title: "ShareDraw",
                subtitle: "Share your drawings with the world!",
                login: "Login",
                register: "Register",
                devLogin: "Dev Login",
                logout: "Logout",
                welcome: "Welcome to ShareDraw",
                loginPrompt: "Join ShareDraw Community!",
                loginPromptDesc: "Login or register to create and share your own drawings",
                username: "Username",
                password: "Password",
                fullName: "Full Name",
                email: "Email",
                cancel: "Cancel",
                drawingCanvas: "Drawing Canvas",
                pen: "‚úèÔ∏è Pen",
                brush: "üñåÔ∏è Brush",
                eraser: "üßπ Eraser",
                line: "üìè Line",
                rectangle: "‚¨ú Rectangle",
                circle: "‚≠ï Circle",
                clear: "Clear",
                share: "üì§ Share",
                animate: "üé¨ Animate",
                play: "‚ñ∂Ô∏è Play",
                pause: "‚è∏Ô∏è Pause",
                stop: "‚èπÔ∏è Stop",
                frame: "Frame",
                search: "üîç Search",
                searchPlaceholder: "Search drawings by username...",
                communityFeed: "üé® Community Feed",
                noDrawings: "No drawings found. Be the first to share your artwork!",
                shareDrawing: "Share Your Drawing",
                title: "Title",
                titlePlaceholder: "Give your drawing a title...",
                description: "Description (Optional)",
                descriptionPlaceholder: "Describe your artwork...",
                devPanel: "Developer Panel",
                registeredUsers: "Registered Users",
                loginActivity: "Login Activity",
                devLoginTitle: "Developer Login",
                devName: "Developer Name",
                devCode: "Developer Code",
                accessPanel: "Access Panel",
                loginSuccess: "Login successful!",
                registerSuccess: "Registration successful!",
                devAccessGranted: "Developer access granted!",
                logoutSuccess: "Logged out successfully!",
                invalidCredentials: "Invalid credentials!",
                usernameExists: "Username already exists!",
                invalidDevCredentials: "Invalid developer credentials!",
                frameCaptured: "Frame captured! Draw next frame or play animation.",
                noFrames: "No frames to animate!",
                drawingShared: "Drawing shared successfully!",
                emptyCanvas: "Please draw something before sharing!",
                registered: "Registered",
                sharedBy: "by",
                timeAgo: "ago"
            },
            th: {
                title: "ShareDraw",
                subtitle: "‡πÅ‡∏ö‡πà‡∏á‡∏õ‡∏±‡∏ô‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏±‡∏ö‡πÇ‡∏•‡∏Å!",
                login: "‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö",
                register: "‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å",
                devLogin: "‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏±‡∏Å‡∏û‡∏±‡∏í‡∏ô‡∏≤",
                logout: "‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö",
                welcome: "‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà ShareDraw",
                loginPrompt: "‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏ä‡∏∏‡∏°‡∏ä‡∏ô ShareDraw!",
                loginPromptDesc: "‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡πÅ‡∏ö‡πà‡∏á‡∏õ‡∏±‡∏ô‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì",
                username: "‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ",
                password: "‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô",
                fullName: "‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•",
                email: "‡∏≠‡∏µ‡πÄ‡∏°‡∏•",
                cancel: "‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å",
                drawingCanvas: "‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡∏≤‡∏î‡∏£‡∏π‡∏õ",
                pen: "‚úèÔ∏è ‡∏õ‡∏≤‡∏Å‡∏Å‡∏≤",
                brush: "üñåÔ∏è ‡∏û‡∏π‡πà‡∏Å‡∏±‡∏ô",
                eraser: "üßπ ‡∏¢‡∏≤‡∏á‡∏•‡∏ö",
                line: "üìè ‡πÄ‡∏™‡πâ‡∏ô‡∏ï‡∏£‡∏á",
                rectangle: "‚¨ú ‡∏™‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏°",
                circle: "‚≠ï ‡∏ß‡∏á‡∏Å‡∏•‡∏°",
                clear: "‡∏•‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠",
                share: "üì§ ‡πÅ‡∏ö‡πà‡∏á‡∏õ‡∏±‡∏ô",
                animate: "üé¨ ‡πÅ‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡πà‡∏ô",
                play: "‚ñ∂Ô∏è ‡πÄ‡∏•‡πà‡∏ô",
                pause: "‚è∏Ô∏è ‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß",
                stop: "‚èπÔ∏è ‡∏´‡∏¢‡∏∏‡∏î",
                frame: "‡πÄ‡∏ü‡∏£‡∏°",
                search: "üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤",
                searchPlaceholder: "‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡πÇ‡∏î‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ...",
                communityFeed: "üé® ‡∏ü‡∏µ‡∏î‡∏ä‡∏∏‡∏°‡∏ä‡∏ô",
                noDrawings: "‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ú‡∏•‡∏á‡∏≤‡∏ô ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡πÅ‡∏£‡∏Å‡∏ó‡∏µ‡πà‡πÅ‡∏ö‡πà‡∏á‡∏õ‡∏±‡∏ô‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏®‡∏¥‡∏•‡∏õ‡∏∞‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì!",
                shareDrawing: "‡πÅ‡∏ö‡πà‡∏á‡∏õ‡∏±‡∏ô‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì",
                title: "‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠",
                titlePlaceholder: "‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì...",
                description: "‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)",
                descriptionPlaceholder: "‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì...",
                devPanel: "‡πÅ‡∏ú‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ô‡∏±‡∏Å‡∏û‡∏±‡∏í‡∏ô‡∏≤",
                registeredUsers: "‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô",
                loginActivity: "‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö",
                devLoginTitle: "‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏±‡∏Å‡∏û‡∏±‡∏í‡∏ô‡∏≤",
                devName: "‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡∏û‡∏±‡∏í‡∏ô‡∏≤",
                devCode: "‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏û‡∏±‡∏í‡∏ô‡∏≤",
                accessPanel: "‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÅ‡∏ú‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°",
                loginSuccess: "‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!",
                registerSuccess: "‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!",
                devAccessGranted: "‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏±‡∏Å‡∏û‡∏±‡∏í‡∏ô‡∏≤!",
                logoutSuccess: "‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!",
                invalidCredentials: "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!",
                usernameExists: "‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß!",
                invalidDevCredentials: "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!",
                frameCaptured: "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏ü‡∏£‡∏°‡πÅ‡∏•‡πâ‡∏ß! ‡∏ß‡∏≤‡∏î‡πÄ‡∏ü‡∏£‡∏°‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏•‡πà‡∏ô‡πÅ‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡πà‡∏ô",
                noFrames: "‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏ü‡∏£‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡πà‡∏ô!",
                drawingShared: "‡πÅ‡∏ö‡πà‡∏á‡∏õ‡∏±‡∏ô‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!",
                emptyCanvas: "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ß‡∏≤‡∏î‡∏£‡∏π‡∏õ‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏ö‡πà‡∏á‡∏õ‡∏±‡∏ô!",
                registered: "‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠",
                sharedBy: "‡πÇ‡∏î‡∏¢",
                timeAgo: "‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß"
            }
        };

        // Developer credentials
        const developers = {
            'PorchPhaseXForever': 'imadmin01',
            'ChingDev123': 'imadmin02'
        };

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            initializeCanvas();
            setupEventListeners();
            loadStoredData();
            loadPublicFeed();
        });

        function initializeCanvas() {
            canvas = document.getElementById('drawingCanvas');
            ctx = canvas.getContext('2d');
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
        }

        function setupEventListeners() {
            // Language selector
            document.getElementById('languageSelector').addEventListener('change', function(e) {
                currentLanguage = e.target.value;
                localStorage.setItem('language', currentLanguage);
                updateLanguage();
            });

            // Modal buttons
            document.getElementById('loginBtn').addEventListener('click', () => showModal('loginModal'));
            document.getElementById('registerBtn').addEventListener('click', () => showModal('registerModal'));
            document.getElementById('devLoginBtn').addEventListener('click', () => showModal('devLoginModal'));
            document.getElementById('logoutBtn').addEventListener('click', logout);

            // Forms
            document.getElementById('loginForm').addEventListener('submit', handleLogin);
            document.getElementById('registerForm').addEventListener('submit', handleRegister);
            document.getElementById('devLoginForm').addEventListener('submit', handleDevLogin);

            // Canvas events
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);

            // Tool buttons
            document.querySelectorAll('.tool-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.tool-btn').forEach(b => b.classList.remove('active-tool'));
                    this.classList.add('active-tool');
                    currentTool = this.id.replace('Tool', '');
                });
            });

            // Controls
            document.getElementById('colorPicker').addEventListener('change', (e) => currentColor = e.target.value);
            document.getElementById('brushSize').addEventListener('input', (e) => currentSize = e.target.value);
            document.getElementById('clearCanvas').addEventListener('click', clearCanvas);
            document.getElementById('shareDrawing').addEventListener('click', () => showModal('shareModal'));
            document.getElementById('animateBtn').addEventListener('click', toggleAnimation);
            document.getElementById('playAnimation').addEventListener('click', playAnimation);
            document.getElementById('pauseAnimation').addEventListener('click', pauseAnimation);
            document.getElementById('stopAnimation').addEventListener('click', stopAnimation);
            
            // Search and feed
            document.getElementById('searchBtn').addEventListener('click', performSearch);
            document.getElementById('searchInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') performSearch();
            });
            document.getElementById('shareForm').addEventListener('submit', handleShare);
        }

        function showModal(modalId) {
            document.getElementById(modalId).classList.remove('hidden');
            document.getElementById(modalId).classList.add('flex');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
            document.getElementById(modalId).classList.remove('flex');
        }

        function showLogin() {
            showModal('loginModal');
        }

        function showRegister() {
            showModal('registerModal');
        }

        function handleLogin(e) {
            e.preventDefault();
            const username = document.getElementById('loginUsername').value;
            const password = document.getElementById('loginPassword').value;

            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const user = users.find(u => u.username === username && u.password === password);

            if (user) {
                currentUser = user;
                loginSuccess();
                logActivity(`User ${username} logged in`);
                showNotification(translations[currentLanguage].loginSuccess, 'success');
                closeModal('loginModal');
            } else {
                showNotification(translations[currentLanguage].invalidCredentials, 'error');
            }
        }

        function handleRegister(e) {
            e.preventDefault();
            const name = document.getElementById('registerName').value;
            const username = document.getElementById('registerUsername').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;

            const users = JSON.parse(localStorage.getItem('users') || '[]');
            
            if (users.find(u => u.username === username)) {
                showNotification(translations[currentLanguage].usernameExists, 'error');
                return;
            }

            const newUser = {
                id: Date.now(),
                name,
                username,
                email,
                password,
                registeredAt: new Date().toISOString()
            };

            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            
            currentUser = newUser;
            loginSuccess();
            logActivity(`New user ${username} registered and logged in`);
            showNotification(translations[currentLanguage].registerSuccess, 'success');
            closeModal('registerModal');
        }

        function handleDevLogin(e) {
            e.preventDefault();
            const devName = document.getElementById('devName').value;
            const devCode = document.getElementById('devCode').value;

            if (developers[devName] === devCode) {
                isDeveloper = true;
                currentUser = { name: devName, username: devName, isDev: true };
                devLoginSuccess();
                logActivity(`Developer ${devName} accessed admin panel`);
                showNotification(translations[currentLanguage].devAccessGranted, 'success');
                closeModal('devLoginModal');
            } else {
                showNotification(translations[currentLanguage].invalidDevCredentials, 'error');
            }
        }

        function loginSuccess() {
            document.getElementById('welcomeSection').classList.add('hidden');
            document.getElementById('canvasSection').classList.remove('hidden');
            document.getElementById('userInfo').textContent = `Welcome, ${currentUser.name}!`;
            document.getElementById('loginBtn').classList.add('hidden');
            document.getElementById('registerBtn').classList.add('hidden');
            document.getElementById('devLoginBtn').classList.add('hidden');
            document.getElementById('logoutBtn').classList.remove('hidden');
        }

        function devLoginSuccess() {
            document.getElementById('welcomeSection').classList.add('hidden');
            document.getElementById('canvasSection').classList.add('hidden');
            document.getElementById('devPanel').classList.remove('hidden');
            document.getElementById('loginBtn').classList.add('hidden');
            document.getElementById('registerBtn').classList.add('hidden');
            document.getElementById('devLoginBtn').classList.add('hidden');
            document.getElementById('logoutBtn').classList.remove('hidden');
            loadDevPanel();
        }

        function logout() {
            currentUser = null;
            isDeveloper = false;
            document.getElementById('welcomeSection').classList.remove('hidden');
            document.getElementById('canvasSection').classList.add('hidden');
            document.getElementById('devPanel').classList.add('hidden');
            document.getElementById('loginBtn').classList.remove('hidden');
            document.getElementById('registerBtn').classList.remove('hidden');
            document.getElementById('devLoginBtn').classList.remove('hidden');
            document.getElementById('logoutBtn').classList.add('hidden');
            showNotification(translations[currentLanguage].logoutSuccess, 'success');
        }

        function loadDevPanel() {
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const activities = JSON.parse(localStorage.getItem('activities') || '[]');

            const usersList = document.getElementById('usersList');
            usersList.innerHTML = users.map(user => `
                <div class="bg-gray-50 p-3 rounded border">
                    <div class="font-medium">${user.name} (@${user.username})</div>
                    <div class="text-sm text-gray-600">${user.email}</div>
                    <div class="text-xs text-gray-500">Registered: ${new Date(user.registeredAt).toLocaleDateString()}</div>
                </div>
            `).join('');

            const loginActivity = document.getElementById('loginActivity');
            loginActivity.innerHTML = activities.slice(-10).reverse().map(activity => `
                <div class="bg-gray-50 p-3 rounded border">
                    <div class="text-sm">${activity.message}</div>
                    <div class="text-xs text-gray-500">${new Date(activity.timestamp).toLocaleString()}</div>
                </div>
            `).join('');
        }

        function logActivity(message) {
            const activities = JSON.parse(localStorage.getItem('activities') || '[]');
            activities.push({
                message,
                timestamp: new Date().toISOString(),
                user: currentUser?.username || 'Unknown'
            });
            localStorage.setItem('activities', JSON.stringify(activities));
            
            // Simulate email notification (Demo only)
            console.log(`Email notification sent to porchdevyt@gmail.com: ${message}`);
        }

        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.className = `notification px-6 py-4 rounded-lg shadow-lg text-white ${
                type === 'success' ? 'bg-green-500' : 'bg-red-500'
            }`;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Canvas drawing functions
        function startDrawing(e) {
            isDrawing = true;
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            ctx.beginPath();
            ctx.moveTo(x, y);
        }

        function draw(e) {
            if (!isDrawing) return;
            
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            ctx.globalCompositeOperation = currentTool === 'eraser' ? 'destination-out' : 'source-over';
            ctx.strokeStyle = currentColor;
            ctx.lineWidth = currentSize;
            
            ctx.lineTo(x, y);
            ctx.stroke();
        }

        function stopDrawing() {
            isDrawing = false;
            ctx.beginPath();
        }

        function clearCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }

        function toggleAnimation() {
            const controls = document.getElementById('animationControls');
            controls.classList.toggle('hidden');
            
            if (!controls.classList.contains('hidden')) {
                // Save current frame
                animationFrames.push(canvas.toDataURL());
                showNotification(translations[currentLanguage].frameCaptured, 'success');
            }
        }

        function playAnimation() {
            if (animationFrames.length === 0) {
                showNotification(translations[currentLanguage].noFrames, 'error');
                return;
            }
            
            isAnimating = true;
            currentFrame = 0;
            
            animationInterval = setInterval(() => {
                const img = new Image();
                img.onload = () => {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    ctx.drawImage(img, 0, 0);
                };
                img.src = animationFrames[currentFrame];
                
                document.getElementById('frameCounter').textContent = currentFrame + 1;
                currentFrame = (currentFrame + 1) % animationFrames.length;
            }, 500);
        }

        function pauseAnimation() {
            clearInterval(animationInterval);
            isAnimating = false;
        }

        function stopAnimation() {
            clearInterval(animationInterval);
            isAnimating = false;
            currentFrame = 0;
            document.getElementById('frameCounter').textContent = '1';
        }

        function updateLanguage() {
            const t = translations[currentLanguage];
            
            // Update navigation
            document.querySelector('h1').textContent = t.title;
            document.getElementById('loginBtn').textContent = t.login;
            document.getElementById('registerBtn').textContent = t.register;
            document.getElementById('devLoginBtn').textContent = t.devLogin;
            document.getElementById('logoutBtn').textContent = t.logout;
            
            // Update welcome section
            document.querySelector('#welcomeSection h2').textContent = t.welcome;
            document.querySelector('#welcomeSection p').textContent = t.subtitle;
            document.getElementById('searchInput').placeholder = t.searchPlaceholder;
            document.getElementById('searchBtn').innerHTML = t.search;
            document.querySelector('#publicFeed').previousElementSibling.textContent = t.communityFeed;
            document.getElementById('noDrawings').textContent = t.noDrawings;
            document.querySelector('#loginPrompt h3').textContent = t.loginPrompt;
            document.querySelector('#loginPrompt p').textContent = t.loginPromptDesc;
            document.querySelector('#loginPrompt button:first-of-type').textContent = t.login;
            document.querySelector('#loginPrompt button:last-of-type').textContent = t.register;
            
            // Update canvas section
            if (document.querySelector('#canvasSection h3')) {
                document.querySelector('#canvasSection h3').textContent = t.drawingCanvas;
            }
            
            // Update tool buttons
            document.getElementById('penTool').innerHTML = t.pen;
            document.getElementById('brushTool').innerHTML = t.brush;
            document.getElementById('eraserTool').innerHTML = t.eraser;
            document.getElementById('lineTool').innerHTML = t.line;
            document.getElementById('rectTool').innerHTML = t.rectangle;
            document.getElementById('circleTool').innerHTML = t.circle;
            document.getElementById('clearCanvas').textContent = t.clear;
            document.getElementById('shareDrawing').innerHTML = t.share;
            document.getElementById('animateBtn').innerHTML = t.animate;
            
            // Update animation controls
            document.getElementById('playAnimation').innerHTML = t.play;
            document.getElementById('pauseAnimation').innerHTML = t.pause;
            document.getElementById('stopAnimation').innerHTML = t.stop;
            
            // Update modals
            updateModalLanguage();
            
            // Update dev panel if visible
            if (!document.getElementById('devPanel').classList.contains('hidden')) {
                updateDevPanelLanguage();
            }
            
            // Reload feed to update language
            loadPublicFeed();
        }
        
        function updateModalLanguage() {
            const t = translations[currentLanguage];
            
            // Login modal
            document.querySelector('#loginModal h3').textContent = t.login;
            document.querySelector('#loginModal label:nth-of-type(1)').textContent = t.username;
            document.querySelector('#loginModal label:nth-of-type(2)').textContent = t.password;
            document.querySelector('#loginModal button[type="submit"]').textContent = t.login;
            document.querySelector('#loginModal button[type="button"]').textContent = t.cancel;
            
            // Register modal
            document.querySelector('#registerModal h3').textContent = t.register;
            document.querySelector('#registerModal label:nth-of-type(1)').textContent = t.fullName;
            document.querySelector('#registerModal label:nth-of-type(2)').textContent = t.username;
            document.querySelector('#registerModal label:nth-of-type(3)').textContent = t.email;
            document.querySelector('#registerModal label:nth-of-type(4)').textContent = t.password;
            document.querySelector('#registerModal button[type="submit"]').textContent = t.register;
            document.querySelector('#registerModal button[type="button"]').textContent = t.cancel;
            
            // Dev login modal
            document.querySelector('#devLoginModal h3').textContent = t.devLoginTitle;
            document.querySelector('#devLoginModal label:nth-of-type(1)').textContent = t.devName;
            document.querySelector('#devLoginModal label:nth-of-type(2)').textContent = t.devCode;
            document.querySelector('#devLoginModal button[type="submit"]').textContent = t.accessPanel;
            document.querySelector('#devLoginModal button[type="button"]').textContent = t.cancel;
            
            // Share modal
            document.querySelector('#shareModal h3').textContent = t.shareDrawing;
            document.querySelector('#shareModal label:nth-of-type(1)').textContent = t.title;
            document.querySelector('#shareModal label:nth-of-type(2)').textContent = t.description;
            document.getElementById('drawingTitle').placeholder = t.titlePlaceholder;
            document.getElementById('drawingDescription').placeholder = t.descriptionPlaceholder;
            document.querySelector('#shareModal button[type="submit"]').innerHTML = t.share;
            document.querySelector('#shareModal button[type="button"]').textContent = t.cancel;
        }
        
        function updateDevPanelLanguage() {
            const t = translations[currentLanguage];
            document.querySelector('#devPanel h3').textContent = t.devPanel;
            document.querySelector('#devPanel h4:nth-of-type(1)').textContent = t.registeredUsers;
            document.querySelector('#devPanel h4:nth-of-type(2)').textContent = t.loginActivity;
        }

        function handleShare(e) {
            e.preventDefault();
            
            if (!currentUser) {
                showNotification('Please login to share drawings!', 'error');
                return;
            }
            
            // Check if canvas is empty
            const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            const isEmpty = imageData.data.every(pixel => pixel === 0);
            
            if (isEmpty) {
                showNotification(translations[currentLanguage].emptyCanvas, 'error');
                return;
            }
            
            const title = document.getElementById('drawingTitle').value;
            const description = document.getElementById('drawingDescription').value;
            const drawingData = canvas.toDataURL();
            
            const drawing = {
                id: Date.now(),
                title,
                description,
                imageData: drawingData,
                author: currentUser.username,
                authorName: currentUser.name,
                createdAt: new Date().toISOString()
            };
            
            const drawings = JSON.parse(localStorage.getItem('drawings') || '[]');
            drawings.unshift(drawing);
            localStorage.setItem('drawings', JSON.stringify(drawings));
            
            showNotification(translations[currentLanguage].drawingShared, 'success');
            closeModal('shareModal');
            document.getElementById('shareForm').reset();
            loadPublicFeed();
        }
        
        function performSearch() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase().trim();
            const drawings = JSON.parse(localStorage.getItem('drawings') || '[]');
            
            let filteredDrawings = drawings;
            if (searchTerm) {
                filteredDrawings = drawings.filter(drawing => 
                    drawing.author.toLowerCase().includes(searchTerm) ||
                    drawing.authorName.toLowerCase().includes(searchTerm) ||
                    drawing.title.toLowerCase().includes(searchTerm)
                );
            }
            
            displayDrawings(filteredDrawings);
        }
        
        function loadPublicFeed() {
            const drawings = JSON.parse(localStorage.getItem('drawings') || '[]');
            displayDrawings(drawings);
        }
        
        function displayDrawings(drawings) {
            const feedContainer = document.getElementById('publicFeed');
            const noDrawingsMsg = document.getElementById('noDrawings');
            
            if (drawings.length === 0) {
                feedContainer.innerHTML = '';
                noDrawingsMsg.classList.remove('hidden');
                return;
            }
            
            noDrawingsMsg.classList.add('hidden');
            feedContainer.innerHTML = drawings.map(drawing => `
                <div class="border border-gray-200 rounded-lg p-4 bg-gray-50">
                    <div class="flex items-center justify-between mb-3">
                        <div>
                            <h4 class="font-semibold text-lg">${drawing.title}</h4>
                            <p class="text-sm text-gray-600">${translations[currentLanguage].sharedBy} ${drawing.authorName} (@${drawing.author})</p>
                        </div>
                        <span class="text-xs text-gray-500">${formatTimeAgo(drawing.createdAt)}</span>
                    </div>
                    ${drawing.description ? `<p class="text-gray-700 mb-3">${drawing.description}</p>` : ''}
                    <div class="bg-white rounded border p-2">
                        <img src="${drawing.imageData}" alt="${drawing.title}" class="max-w-full h-auto rounded" style="max-height: 300px; margin: 0 auto; display: block;">
                    </div>
                </div>
            `).join('');
        }
        
        function formatTimeAgo(dateString) {
            const now = new Date();
            const date = new Date(dateString);
            const diffInSeconds = Math.floor((now - date) / 1000);
            
            if (diffInSeconds < 60) return `${diffInSeconds}s ${translations[currentLanguage].timeAgo}`;
            if (diffInSeconds < 3600) return `${Math.floor(diffInSeconds / 60)}m ${translations[currentLanguage].timeAgo}`;
            if (diffInSeconds < 86400) return `${Math.floor(diffInSeconds / 3600)}h ${translations[currentLanguage].timeAgo}`;
            return `${Math.floor(diffInSeconds / 86400)}d ${translations[currentLanguage].timeAgo}`;
        }

        function loadStoredData() {
            // Initialize with sample data if none exists
            if (!localStorage.getItem('users')) {
                localStorage.setItem('users', JSON.stringify([]));
            }
            if (!localStorage.getItem('activities')) {
                localStorage.setItem('activities', JSON.stringify([]));
            }
            if (!localStorage.getItem('drawings')) {
                localStorage.setItem('drawings', JSON.stringify([]));
            }
            
            // Load saved language preference
            const savedLanguage = localStorage.getItem('language');
            if (savedLanguage) {
                currentLanguage = savedLanguage;
                document.getElementById('languageSelector').value = savedLanguage;
                updateLanguage();
            }
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9612760e07ecf305',t:'MTc1Mjg0Njc2My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
<div className="upload-meta">
  <span>{uploadTime}</span>
  <button onClick={handleLike}>Like</button>
  <button onClick={handleComment}>Comment</button>
  <button onClick={handleReport}>Report</button>
</div>

// Example handler for report
function handleReport() {
  const reportData = {
    uploadId,
    userId,
    reason: prompt('Please describe the issue:')
  };
  fetch('/api/report', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(reportData)
  }).then(() => alert('Report sent to developer.'));
}
